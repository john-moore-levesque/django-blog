
{% extends "base.html" %}
{% block title %}
{{ post.author | capfirst }} | {{ post.title }}
{% endblock %}
{% load crispy_forms_tags %}
{% load static %}
{% block page_content %}

<div class="col-lg-12 content">
  <div class="header">
  <h1>{{ post.title }}</h1>
  <hr>
  <small>
    {{ post.created_on.date }} by <b>{{ post.author | capfirst }}</b> |&nbsp;
    Categories:&nbsp;
    {% for category in post.category.all %}
    <a href="{% url 'blog_author_category' post.author category.name %}">
      {{ category.name }}
    </a>&nbsp;
    {% endfor %}
  </small>
  </div>
  <div class="blog-image">
  <picture class="col-lg-12">
    <img class="blog-image" src="{{ post.image.url }}"
      srcset="{{ post.image.url }} 300w, {{ post.image.url }} 600w, {{ post.image.url }} 1000w, {{ post.image.url }} 2000w"
      sizes="(max-width: 800px) 400px, (max-width: 1170px) 600px, 1000px"
      style="display: block; margin: auto;" >
  </picture>
  </div>

  {{ post.body | safe | linebreaks }}
  <small>
  </small>
  <h3>Comments</h3>
  <a class="btn btn-default" href="{% url 'add_comment_to_post' author=post.author slug=post.slug %}">Add comment</a>
  {% for comment in post.comments.all %}
  <p>
    <small>
    On {{ comment.created_on.date }}&nbsp;
    <b>{{ comment.author }}</b> wrote:
    </small>
  </p>
  <p>{{ comment.body }}</p>
  <hr>
  {% empty %}
  <p>No comments yet.</p>
  {% endfor %}
</div>
{% endblock %}
